
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>set - display and change shell variables &#8212; fish-shell 3.3.1 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pydoctheme.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="set_color - set the terminal color" href="set_color.html" />
    <link rel="prev" title="return - stop the current inner function" href="return.html" />
    <link rel="shortcut icon" type="image/png" href="../_static/fish.png" />


  </head><body><div id="fmain">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
    <li><img src="../_static/fish.png" alt=""
             style="width: 80px; height: 80px; vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="https://fishshell.com/">fish-shell</a> &#187;</li>

    <a href="../index.html">fish-shell 3.3.1 documentation</a> &#187;


          <li class="nav-item nav-item-1"><a href="../commands.html" accesskey="U">Commands</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">set - display and change shell variables</a></li>
    <li class="right">


    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Quick search" type="text" name="q" />
          <input type="submit" value="Go" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script>$('.inline-search').show(0);</script>
    </li>

      </ul>
    </div>

<div class="document">
      <div id="old-docs-notice" style="background-color: #ffffa0; color: black; padding: 1em; margin: .5em 0; border-radius: 5px;">This documents an old version of fish. <a href="/docs/current/">See the latest release.</a></div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div>
<h3><a href="../index.html">Documents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interactive.html">Interactive use</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">The fish language</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../commands.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fish_for_bash_users.html">Fish for bash users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../completions.html">Writing your own completions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../relnotes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
<div>
<h4><a href="../index.html">Sections</a></h4>
<ul>
<li><a class="reference internal" href="#">set - display and change shell variables</a><ul>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#exit-status">Exit status</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#notes">Notes</a></li>
</ul>
</li>
</ul>

</div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">

  <div class="section" id="set-display-and-change-shell-variables">
<span id="cmd-set"></span><h1>set - display and change shell variables<a class="headerlink" href="#set-display-and-change-shell-variables" title="Permalink to this headline">¶</a></h1>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<div class="highlight-fish-docs-samples notranslate"><div class="highlight"><pre><span></span><span class="nf">set</span><span class="w"> </span><span class="no">[SCOPE_OPTIONS]</span><span class="w"></span>
<span class="nf">set</span><span class="w"> </span><span class="no">[OPTIONS]</span><span class="w"> </span><span class="no">VARIABLE_NAME</span><span class="w"> </span><span class="no">VALUES...</span><span class="w"></span>
<span class="nf">set</span><span class="w"> </span><span class="no">[OPTIONS]</span><span class="w"> </span><span class="no">VARIABLE_NAME[INDICES]...</span><span class="w"> </span><span class="no">VALUES...</span><span class="w"></span>
<span class="nf">set</span><span class="w"> </span><span class="o">(</span><span class="w"> </span><span class="nf">-q</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">--query</span><span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="no">[SCOPE_OPTIONS]</span><span class="w"> </span><span class="no">VARIABLE_NAMES...</span><span class="w"></span>
<span class="nf">set</span><span class="w"> </span><span class="o">(</span><span class="w"> </span><span class="nf">-e</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">--erase</span><span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="no">[SCOPE_OPTIONS]</span><span class="w"> </span><span class="no">VARIABLE_NAME...</span><span class="w"></span>
<span class="nf">set</span><span class="w"> </span><span class="o">(</span><span class="w"> </span><span class="nf">-e</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">--erase</span><span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="no">[SCOPE_OPTIONS]</span><span class="w"> </span><span class="no">VARIABLE_NAME[INDICES]...</span><span class="w"></span>
<span class="nf">set</span><span class="w"> </span><span class="o">(</span><span class="w"> </span><span class="nf">-S</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">--show</span><span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="no">[VARIABLE_NAME]...</span><span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">set</span></code> manipulates <a class="reference internal" href="../language.html#variables"><span class="std std-ref">shell variables</span></a>.</p>
<p>If both a variable name and values are provided, <code class="docutils literal notranslate"><span class="pre">set</span></code> assigns the values to the variable of that name. Because all variables in fish are <a class="reference internal" href="../language.html#variables-lists"><span class="std std-ref">lists</span></a>, multiple values are allowed.</p>
<p>If only a variable name has been given, <code class="docutils literal notranslate"><span class="pre">set</span></code> sets the variable to the empty list.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">set</span></code> is called with no arguments, it prints the names and values of all shell variables in sorted order. Passing <a class="reference internal" href="../language.html#variables-scope"><span class="std std-ref">scope</span></a> or <a class="reference internal" href="../language.html#variables-export"><span class="std std-ref">export</span></a> flags allows filtering this to only matching variables, so <code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">--local</span></code> would only show local variables.</p>
<p>With <code class="docutils literal notranslate"><span class="pre">--erase</span></code> and optionally a scope flag <code class="docutils literal notranslate"><span class="pre">set</span></code> will erase the matching variable (or the variable of that name in the smallest possible scope).</p>
<p>With <code class="docutils literal notranslate"><span class="pre">--show</span></code>, <code class="docutils literal notranslate"><span class="pre">set</span></code> will describe the given variable names, explaining how they have been defined - in which scope with which values and options.</p>
<p>The following options control variable scope:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-l</span></code> or <code class="docutils literal notranslate"><span class="pre">--local</span></code> forces the specified shell variable to be given a scope that is local to the current block, even if a variable with the given name exists and is non-local</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-g</span></code> or <code class="docutils literal notranslate"><span class="pre">--global</span></code> causes the specified shell variable to be given a global scope. Non-global variables disappear when the block they belong to ends</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-U</span></code> or <code class="docutils literal notranslate"><span class="pre">--universal</span></code> causes the specified shell variable to be given a universal scope. If this option is supplied, the variable will be shared between all the current user's fish instances on the current computer, and will be preserved across restarts of the shell.</p></li>
</ul>
<p>These options control additional variable options:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-x</span></code> or <code class="docutils literal notranslate"><span class="pre">--export</span></code> causes the specified shell variable to be exported to child processes (making it an &quot;environment variable&quot;)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-u</span></code> or <code class="docutils literal notranslate"><span class="pre">--unexport</span></code> causes the specified shell variable to NOT be exported to child processes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--path</span></code> causes the specified variable to be treated as a path variable, meaning it will automatically be split on colons,  and joined using colons when quoted (<code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">&quot;$PATH&quot;</span></code>) or exported.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--unpath</span></code> causes the specified variable to not be treated as a path variable. Variables with a name ending in &quot;PATH&quot; are automatically path variables, so this can be used to treat such a variable normally.</p></li>
</ul>
<p>The following other options are available:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-a</span></code> or <code class="docutils literal notranslate"><span class="pre">--append</span></code> causes the values to be appended to the current set of values for the variable. This can be used with <code class="docutils literal notranslate"><span class="pre">--prepend</span></code> to both append and prepend at the same time. This cannot be used when assigning to a variable slice.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-p</span></code> or <code class="docutils literal notranslate"><span class="pre">--prepend</span></code> causes the values to be prepended to the current set of values for the variable. This can be used with <code class="docutils literal notranslate"><span class="pre">--append</span></code> to both append and prepend at the same time. This cannot be used when assigning to a variable slice.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-e</span></code> or <code class="docutils literal notranslate"><span class="pre">--erase</span></code> causes the specified shell variables to be erased</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-q</span></code> or <code class="docutils literal notranslate"><span class="pre">--query</span></code> test if the specified variable names are defined. Does not output anything, but the builtins exit status is the number of variables specified that were not defined, or 255 if more than 255 variables are not defined.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-n</span></code> or <code class="docutils literal notranslate"><span class="pre">--names</span></code>: List only the names of all defined variables, not their value. The names are guaranteed to be sorted.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-S</span></code> or <code class="docutils literal notranslate"><span class="pre">--show</span></code> shows information about the given variables. If no variable names are given then all variables are shown in sorted order. It shows the scopes the given variables are set in, along with the values in each and whether or not it is exported. No other flags can be used with this option.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-L</span></code> or <code class="docutils literal notranslate"><span class="pre">--long</span></code> do not abbreviate long values when printing set variables</p></li>
</ul>
<p>If a variable is set to more than one value, the variable will be a list with the specified elements. If a variable is set to zero elements, it will become a list with zero elements.</p>
<p>If the variable name is one or more list elements, such as <code class="docutils literal notranslate"><span class="pre">PATH[1</span> <span class="pre">3</span> <span class="pre">7]</span></code>, only those list elements specified will be changed. If you specify a negative index when expanding or assigning to a list variable, the index will be calculated from the end of the list. For example, the index -1 means the last index of a list.</p>
<p>The scoping rules when creating or updating a variable are:</p>
<ul class="simple">
<li><p>Variables may be explicitly set to universal, global or local. Variables with the same name in different scopes will not be changed.</p></li>
<li><p>If a variable is not explicitly set to be either universal, global or local, but has been previously defined, the previous variable scope is used.</p></li>
<li><p>If a variable is not explicitly set to be either universal, global or local and has never before been defined, the variable will be local to the currently executing function. Note that this is different from using the <code class="docutils literal notranslate"><span class="pre">-l</span></code> or <code class="docutils literal notranslate"><span class="pre">--local</span></code> flag. If one of those flags is used, the variable will be local to the most inner currently executing block, while without these the variable will be local to the function. If no function is executing, the variable will be global.</p></li>
</ul>
<p>The exporting rules when creating or updating a variable are identical to the scoping rules for variables:</p>
<ul class="simple">
<li><p>Variables may be explicitly set to either exported or not exported. When an exported variable goes out of scope, it is unexported.</p></li>
<li><p>If a variable is not explicitly set to be exported or not exported, but has been previously defined, the previous exporting rule for the variable is kept.</p></li>
<li><p>If a variable is not explicitly set to be either exported or unexported and has never before been defined, the variable will not be exported.</p></li>
</ul>
<p>In query mode, the scope to be examined can be specified.</p>
<p>In erase mode, if variable indices are specified, only the specified slices of the list variable will be erased.</p>
<p><code class="docutils literal notranslate"><span class="pre">set</span></code> requires all options to come before any other arguments. For example, <code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">flags</span> <span class="pre">-l</span></code> will have the effect of setting the value of the variable <code class="docutils literal notranslate"><span class="pre">flags</span></code> to '-l', not making the variable local.</p>
</div>
<div class="section" id="exit-status">
<h2>Exit status<a class="headerlink" href="#exit-status" title="Permalink to this headline">¶</a></h2>
<p>In assignment mode, <code class="docutils literal notranslate"><span class="pre">set</span></code> does not modify the exit status, but passes along whatever $status was set, including by command substitutions. This allows capturing the output and exit status of a subcommand, like in <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">set</span> <span class="pre">output</span> <span class="pre">(command)</span></code>.</p>
<p>In query mode, the exit status is the number of variables that were not found.</p>
<p>In erase mode, <code class="docutils literal notranslate"><span class="pre">set</span></code> exits with a zero exit status in case of success, with a non-zero exit status if the commandline was invalid, if any of the variables did not exist or was a <a class="reference internal" href="../language.html#variables-special"><span class="std std-ref">special read-only variable</span></a>.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="highlight-fish-docs-samples notranslate"><div class="highlight"><pre><span></span><span class="c"># Prints all global, exported variables.</span><span class="w"></span>
<span class="nf">set</span><span class="w"> </span><span class="no">-xg</span><span class="w"></span>

<span class="c"># Sets the value of the variable $foo to be &#39;hi&#39;.</span><span class="w"></span>
<span class="nf">set</span><span class="w"> </span><span class="no">foo</span><span class="w"> </span><span class="no">hi</span><span class="w"></span>

<span class="c"># Appends the value &quot;there&quot; to the variable $foo.</span><span class="w"></span>
<span class="nf">set</span><span class="w"> </span><span class="no">-a</span><span class="w"> </span><span class="no">foo</span><span class="w"> </span><span class="no">there</span><span class="w"></span>

<span class="c"># Does the same thing as the previous two commands the way it would be done pre-fish 3.0.</span><span class="w"></span>
<span class="nf">set</span><span class="w"> </span><span class="no">foo</span><span class="w"> </span><span class="no">hi</span><span class="w"></span>
<span class="nf">set</span><span class="w"> </span><span class="no">foo</span><span class="w"> </span><span class="o">$foo</span><span class="w"> </span><span class="no">there</span><span class="w"></span>

<span class="c"># Removes the variable $smurf</span><span class="w"></span>
<span class="nf">set</span><span class="w"> </span><span class="no">-e</span><span class="w"> </span><span class="no">smurf</span><span class="w"></span>

<span class="c"># Changes the fourth element of the $PATH list to ~/bin</span><span class="w"></span>
<span class="nf">set</span><span class="w"> </span><span class="no">PATH[4]</span><span class="w"> </span><span class="o">~</span><span class="no">/bin</span><span class="w"></span>

<span class="c"># Outputs the path to Python if ``type -p`` returns true.</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="nf">set</span><span class="w"> </span><span class="no">python_path</span><span class="w"> </span><span class="o">(</span><span class="nf">type</span><span class="w"> </span><span class="no">-p</span><span class="w"> </span><span class="no">python</span><span class="o">)</span><span class="w"></span>
<span class="w">    </span><span class="nf">echo</span><span class="w"> </span><span class="s2">&quot;Python is at </span><span class="o">$python_path</span><span class="s2">&quot;</span><span class="w"></span>
<span class="k">end</span><span class="w"></span>

<span class="c"># Setting a variable doesn&#39;t modify $status!</span><span class="w"></span>
<span class="nf">false</span><span class="w"></span>
<span class="nf">set</span><span class="w"> </span><span class="no">foo</span><span class="w"> </span><span class="no">bar</span><span class="w"></span>
<span class="nf">echo</span><span class="w"> </span><span class="o">$status</span><span class="w"> </span><span class="c"># prints 1, because of the &quot;false&quot; above.</span><span class="w"></span>

<span class="nf">true</span><span class="w"></span>
<span class="nf">set</span><span class="w"> </span><span class="no">foo</span><span class="w"> </span><span class="no">banana</span><span class="w"> </span><span class="o">(</span><span class="nf">false</span><span class="o">)</span><span class="w"></span>
<span class="nf">echo</span><span class="w"> </span><span class="o">$status</span><span class="w"> </span><span class="c"># prints 1, because of the &quot;(false)&quot; above.</span><span class="w"></span>

<span class="c"># Like other shells, pass a variable to just one command:</span><span class="w"></span>
<span class="c"># Run fish with a temporary home directory.</span><span class="w"></span>
<span class="no">HOME</span><span class="o">=(</span><span class="nf">mktemp</span><span class="w"> </span><span class="no">-d</span><span class="o">)</span><span class="w"> </span><span class="nf">fish</span><span class="w"></span>
<span class="c"># Which is essentially the same as:</span><span class="w"></span>
<span class="k">begin</span><span class="p">;</span><span class="w"> </span><span class="nf">set</span><span class="w"> </span><span class="no">-lx</span><span class="w"> </span><span class="no">HOME</span><span class="w"> </span><span class="o">(</span><span class="nf">mktemp</span><span class="w"> </span><span class="no">-d</span><span class="o">)</span><span class="p">;</span><span class="w"> </span><span class="nf">fish</span><span class="p">;</span><span class="w"> </span><span class="k">end</span><span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<p>Fish versions prior to 3.0 supported the syntax <code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">PATH[1]</span> <span class="pre">PATH[4]</span> <span class="pre">/bin</span> <span class="pre">/sbin</span></code>, which worked like
<code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">PATH[1</span> <span class="pre">4]</span> <span class="pre">/bin</span> <span class="pre">/sbin</span></code>. This syntax was not widely used, and was ambiguous and inconsistent.</p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
    <li><img src="../_static/fish.png" alt=""
             style="width: 80px; height: 80px; vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="https://fishshell.com/">fish-shell</a> &#187;</li>

    <a href="../index.html">fish-shell 3.3.1 documentation</a> &#187;


          <li class="nav-item nav-item-1"><a href="../commands.html" >Commands</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">set - display and change shell variables</a></li>
    <li class="right">


    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Quick search" type="text" name="q" />
          <input type="submit" value="Go" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script>$('.inline-search').show(0);</script>
    </li>

      </ul>
    </div>
    <div class="footer">
    &copy; Copyright 2021, fish-shell developers.
    <br>
    <a href="https://github.com/fish-shell/fish-shell/issues">Found a bug</a>?
    <br>

    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.3.1.
    </div>
</div>

  </body>
</html>
