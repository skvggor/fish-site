
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>fish_git_prompt - output git information for use in a prompt &#8212; fish-shell 3.3.1 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pydoctheme.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="fish_greeting - display a welcome message in interactive shells" href="fish_greeting.html" />
    <link rel="prev" title="fish_config - start the web-based configuration interface" href="fish_config.html" />
    <link rel="shortcut icon" type="image/png" href="../_static/fish.png" />


  </head><body><div id="fmain">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
    <li><img src="../_static/fish.png" alt=""
             style="width: 80px; height: 80px; vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="https://fishshell.com/">fish-shell</a> &#187;</li>

    <a href="../index.html">fish-shell 3.3.1 documentation</a> &#187;


          <li class="nav-item nav-item-1"><a href="../commands.html" accesskey="U">Commands</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">fish_git_prompt - output git information for use in a prompt</a></li>
    <li class="right">


    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Quick search" type="text" name="q" />
          <input type="submit" value="Go" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script>$('.inline-search').show(0);</script>
    </li>

      </ul>
    </div>

<div class="document">
      <div id="old-docs-notice" style="background-color: #ffffa0; color: black; padding: 1em; margin: .5em 0; border-radius: 5px;">This documents an old version of fish. <a href="/docs/current/">See the latest release.</a></div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div>
<h3><a href="../index.html">Documents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interactive.html">Interactive use</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">The fish language</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../commands.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fish_for_bash_users.html">Fish for bash users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../completions.html">Writing your own completions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../relnotes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
<div>
<h4><a href="../index.html">Sections</a></h4>
<ul>
<li><a class="reference internal" href="#">fish_git_prompt - output git information for use in a prompt</a><ul>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
</ul>

</div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">

  <div class="section" id="fish-git-prompt-output-git-information-for-use-in-a-prompt">
<span id="cmd-fish-git-prompt"></span><h1>fish_git_prompt - output git information for use in a prompt<a class="headerlink" href="#fish-git-prompt-output-git-information-for-use-in-a-prompt" title="Permalink to this headline">¶</a></h1>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<div class="highlight-fish-docs-samples notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="no">fish_prompt</span><span class="w"></span>
<span class="w">     </span><span class="nf">printf</span><span class="w"> </span><span class="s1">&#39;%s&#39;</span><span class="w"> </span><span class="o">$PWD</span><span class="w"> </span><span class="o">(</span><span class="nf">fish_git_prompt</span><span class="o">)</span><span class="w"> </span><span class="s1">&#39; $ &#39;</span><span class="w"></span>
<span class="k">end</span><span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">fish_git_prompt</span></code> function displays information about the current git repository, if any.</p>
<p><a class="reference external" href="https://git-scm.com">Git</a> must be installed.</p>
<p>There are numerous customization options, which can be controlled with git options or fish variables. git options, where available, take precedence over the fish variable with the same function. git options can be set on a per-repository or global basis. git options can be set with the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span></code> command, while fish variables can be set as usual with the <a class="reference internal" href="set.html#cmd-set"><span class="std std-ref">set</span></a> command.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_show_informative_status</span></code> or the git option <code class="docutils literal notranslate"><span class="pre">bash.showInformativeStatus</span></code> can be set to enable the &quot;informative&quot; display, which will show a large amount of information - the number of untracked files, dirty files, unpushed/unpulled commits, and more. In large repositories, this can take a lot of time, so it you may wish to disable it in these repositories with  <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">--local</span> <span class="pre">bash.showInformativeStatus</span> <span class="pre">false</span></code>. It also changes the characters the prompt uses to less plain ones (<code class="docutils literal notranslate"><span class="pre">✚</span></code> instead of <code class="docutils literal notranslate"><span class="pre">*</span></code> for the dirty state for example) , and if you are only interested in that, set <code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_use_informative_chars</span></code> instead.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_showdirtystate</span></code> or the git option <code class="docutils literal notranslate"><span class="pre">bash.showDirtyState</span></code> can be set to show if the repository is &quot;dirty&quot;, i.e. has uncommitted changes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_showuntrackedfiles</span></code> or the git option <code class="docutils literal notranslate"><span class="pre">bash.showUntrackedFiles</span></code> can be set to show if the repository has untracked files (that aren't ignored).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_showupstream</span></code> can be set to a list of values to determine how changes between HEAD and upstream are shown:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">auto</span></code></dt><dd><p>summarize the difference between HEAD and its upstream</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">verbose</span></code></dt><dd><p>show number of commits ahead/behind (+/-) upstream</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">name</span></code></dt><dd><p>if verbose, then also show the upstream abbrev name</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">informative</span></code></dt><dd><p>similar to verbose, but shows nothing when equal - this is the default if informative status is enabled.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">git</span></code></dt><dd><p>always compare HEAD to &#64;{upstream}</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">svn</span></code></dt><dd><p>always compare HEAD to your SVN upstream</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">none</span></code></dt><dd><p>disables (useful with informative status)</p>
</dd>
</dl>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_showstashstate</span></code> can be set to display the state of the stash.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_shorten_branch_len</span></code> can be set to the number of characters that the branch name will be shortened to.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_describe_style</span></code> can be set to one of the following styles to describe the current HEAD:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">contains</span></code></dt><dd><p>relative to newer annotated tag, such as <code class="docutils literal notranslate"><span class="pre">(v1.6.3.2~35)</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">branch</span></code></dt><dd><p>relative to newer tag or branch, such as <code class="docutils literal notranslate"><span class="pre">(master~4)</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">describe</span></code></dt><dd><p>relative to older annotated tag, such as <code class="docutils literal notranslate"><span class="pre">(v1.6.3.1-13-gdd42c2f)</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">default</span></code></dt><dd><p>an exactly matching tag (<code class="docutils literal notranslate"><span class="pre">(develop)</span></code>)</p>
</dd>
</dl>
<p>If none of these apply, the commit SHA shortened to 8 characters is used.</p>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_showcolorhints</span></code> can be set to enable coloring for the branch name and status symbols.</p></li>
</ul>
<p>A number of variables set characters and color used as indicators. Many of these have a different default if used with informative status enabled, or <code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_use_informative_chars</span></code> set. The usual default is given first, then the informative default (if it is different). If no default for the colors is given, they default to <code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_color</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_char_stateseparator</span></code> (' ', <code class="docutils literal notranslate"><span class="pre">|</span></code>) - the character to be used between the state characters</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_color</span></code> (no default)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_color_prefix</span></code> - the color of the <code class="docutils literal notranslate"><span class="pre">(</span></code> prefix</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_color_suffix</span></code> - the color of the <code class="docutils literal notranslate"><span class="pre">)</span></code> suffix</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_color_bare</span></code> - the color to use for a bare repository - one without a working tree</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_color_merging</span></code> - the color when a merge/rebase/revert/bisect or cherry-pick is in progress</p></li>
</ul>
<p>Some variables are only used in some modes, like when informative status is enabled:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_char_cleanstate</span></code> (✔) - the character to be used when nothing else applies</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_color_cleanstate</span></code></p></li>
</ul>
<p>Variables used with <code class="docutils literal notranslate"><span class="pre">showdirtystate</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_char_dirtystate</span></code> (<cite>*</cite>, ✚) - the number of &quot;dirty&quot; changes, i.e. unstaged files with changes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_char_invalidstate</span></code> (#, ✖) - the number of &quot;unmerged&quot; changes, e.g. additional changes to already added files</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_char_stagedstate</span></code> (+, ●) - the number of staged files without additional changes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_color_dirtystate</span></code> (red with showcolorhints, same as color_flags otherwise)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_color_invalidstate</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_color_stagedstate</span></code> (green with showcolorhints, color_flags otherwise)</p></li>
</ul>
<p>Variables used with <code class="docutils literal notranslate"><span class="pre">showstashstate</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_char_stashstate</span></code> (<code class="docutils literal notranslate"><span class="pre">$</span></code>, ⚑)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_color_stashstate</span></code> (same as color_flags)</p></li>
</ul>
<p>Variables used with <code class="docutils literal notranslate"><span class="pre">showuntrackedfiles</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_char_untrackedfiles</span></code> (%, …) - the symbol for untracked files</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_color_untrackedfiles</span></code> (same as color_flags)</p></li>
</ul>
<p>Variables used with <code class="docutils literal notranslate"><span class="pre">showupstream</span></code> (also implied by informative status):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_char_upstream_ahead</span></code> (&gt;, ↑) - the character for the commits this repository is ahead of upstream</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_char_upstream_behind</span></code> (&lt;, ↓) - the character for the commits this repository is behind upstream</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_char_upstream_diverged</span></code> (&lt;&gt;) - the symbol if this repository is both ahead and behind upstream</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_char_upstream_equal</span></code> (=) - the symbol if this repo is equal to upstream</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_char_upstream_prefix</span></code> ('')</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_color_upstream</span></code></p></li>
</ul>
<p>Colors used with <code class="docutils literal notranslate"><span class="pre">showcolorhints</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_color_branch</span></code> (green) - the color of the branch</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_color_branch_detached</span></code> (red) the color of the branch if it's detached (e.g. a commit is checked out)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_color_flags</span></code> (--bold blue) - the default color for dirty/staged/stashed/untracked state</p></li>
</ul>
<p>Note that all colors can also have a corresponding <code class="docutils literal notranslate"><span class="pre">_done</span></code> color. For example, the contents of <code class="docutils literal notranslate"><span class="pre">$__fish_git_prompt_color_upstream_done</span></code> is printed right _after_ the upstream.</p>
<p>See also <a class="reference internal" href="fish_vcs_prompt.html#cmd-fish-vcs-prompt"><span class="std std-ref">fish_vcs_prompt</span></a>, which will call all supported version control prompt functions, including git, Mercurial and Subversion.</p>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>A simple prompt that displays git info:</p>
<div class="highlight-fish-docs-samples notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="no">fish_prompt</span><span class="w"></span>
<span class="w">    </span><span class="c"># ...</span><span class="w"></span>
<span class="w">    </span><span class="nf">set</span><span class="w"> </span><span class="no">-g</span><span class="w"> </span><span class="no">__fish_git_prompt_showupstream</span><span class="w"> </span><span class="no">auto</span><span class="w"></span>
<span class="w">    </span><span class="nf">printf</span><span class="w"> </span><span class="s1">&#39;%s %s$&#39;</span><span class="w"> </span><span class="o">$PWD</span><span class="w"> </span><span class="o">(</span><span class="nf">fish_git_prompt</span><span class="o">)</span><span class="w"></span>
<span class="k">end</span><span class="w"></span>
</pre></div>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
    <li><img src="../_static/fish.png" alt=""
             style="width: 80px; height: 80px; vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="https://fishshell.com/">fish-shell</a> &#187;</li>

    <a href="../index.html">fish-shell 3.3.1 documentation</a> &#187;


          <li class="nav-item nav-item-1"><a href="../commands.html" >Commands</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">fish_git_prompt - output git information for use in a prompt</a></li>
    <li class="right">


    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Quick search" type="text" name="q" />
          <input type="submit" value="Go" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script>$('.inline-search').show(0);</script>
    </li>

      </ul>
    </div>
    <div class="footer">
    &copy; Copyright 2021, fish-shell developers.
    <br>
    <a href="https://github.com/fish-shell/fish-shell/issues">Found a bug</a>?
    <br>

    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.3.1.
    </div>
</div>

  </body>
</html>
